import{r as g,o as c,c as _,a as u,b as p,w,d as r,F as $,e as y,t as h,f as b,v as C,g as S,n as f,h as m,i as D,j as P,k as E,l as V,m as x}from"./vendor.599ef0b2.js";const j=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}};j();var d=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s};const A={};function N(e,t){const s=g("RouterView");return c(),_(s)}var R=d(A,[["render",N]]);const v="22472f42832eb6d9fd13004d1fb61926",W={Accept:"application/json"};var B={state(){return{localStoreName:"weather-state",weather:"",currentLocationWeather:{place:"",temprature:"",feelsLike:"",description:"",icon:"",error:""},currentWeather:{place:"",temprature:"",feelsLike:"",description:"",icon:"",error:""},catIdeaStatus:"",catIdeaImage:"",currentWeatherVisible:!1}},mutations:{catIdea(e,t){t.weather[0].id===804&&(e.catIdeaStatus="Can we sleep extra today?",e.catIdeaImage="/images/cat_sleeping.jpg"),(t.weather[0].id===800||t.weather[0].id<=803)&&(e.catIdeaStatus="Can we go out today?",e.catIdeaImage="/images/cat_sunglass.jpg"),t.weather[0].id>700&&t.weather[0].id<799&&(e.catIdeaStatus="Canwe drink a cup of tea?",e.catIdeaImage="/images/cat_with_tea.jpg"),t.weather[0].id>=600&&t.weather[0].id<700&&(console.log(t),e.catIdeaStatus="Don't forget to wear the winter jakket!",e.catIdeaImage="/images/cat_in_snow.jpg"),t.weather[0].id>=500&&t.weather[0].id<599&&(console.log(t),e.catIdeaStatus="Don't forget umbrella today!",e.catIdeaImage="/images/cat_umbrella.jpg"),t.weather[0].id>=300&&t.weather[0].id<399&&(console.log(t),e.catIdeaStatus="Can we drink soup today?",e.catIdeaImage="/images/soup.jpg"),t.weather[0].id>=200&&t.weather[0].id<299&&(console.log(t),e.catIdeaStatus="Don't forget wear rain coat and boots",e.catIdeaImage="/images/rain_boots.jpg")},handleCurrentWeather(e,t){e.currentWeather.place="",e.currentLocationWeather.place=t.name,e.currentLocationWeather.temprature=`${Math.round(t.main.temp)}\xB0C`,e.currentLocationWeather.feelsLike=`${Math.round(t.main.feels_like)}\xB0C`,e.currentLocationWeather.icon=`https://openweathermap.org/img/wn/${t.weather[0].icon}.png`,e.currentLocationWeather.description=t.weather[0].description},handleWeatherData(e,t){e.currentWeather.place=t.name,e.currentWeather.temprature=`${Math.round(t.main.temp)}\xB0C`,e.currentWeather.feelsLike=`${Math.round(t.main.feels_like)}\xB0C`,e.currentWeather.icon=`https://openweathermap.org/img/wn/${t.weather[0].icon}.png`,e.currentWeather.description=t.weather[0].description,localStorage.setItem("place",e.currentWeather.place),localStorage.getItem("place")},handleError(e,t){throw t.status===404?new Error("Sorry, Weather could not be found. Please write the correct place."):t.status===401?new Error("Unauthorized"):t.status>500?new Error("Servor Error!"):new Error("Something went wrong!")}},actions:{async fetchGeoCode({state:e,commit:t,dispatch:s}){navigator.geolocation.getCurrentPosition(n=>{s("fetchCurrentLocation",n),console.log(n)})},async fetchCurrentLocation({state:e,commit:t},s){const n=`http://api.openweathermap.org/data/2.5/weather?lat=${s.coords.latitude}&lon=${s.coords.longitude}&units=metric&appid=${v}`;try{const o=await fetch(n,W),a=await o.json();if(o.status>=200&&o.status<300)return e.currentLocationWeather.error="",e.currentWeatherVisible=!0,t("handleCurrentWeather",a),t("catIdea",a),!0;t("handleError",o)}catch(o){e.currentLocationWeather.error=o.message}},async fetchWeatherData({state:e,commit:t},s){const n=`https://api.openweathermap.org/data/2.5/weather?q=${s}&units=metric&appid=${v}`;try{const o=await fetch(n,W),a=await o.json();if(o.status>=200&&o.status<300)return e.currentWeather.error="",console.log(a),console.log(e.currentWeather.place),t("handleWeatherData",a),!0;e.currentWeather={},t("handleError",o)}catch(o){e.currentWeather.error=o.message}}},getters:{currentWeather:e=>e.currentWeather,currentLocationWeather:e=>e.currentLocationWeather,currentWeatherVisible:e=>e.currentWeatherVisible,catIdeaStatus:e=>e.catIdeaStatus,catIdeaImage:e=>e.catIdeaImage}},M={state(){return{navigation:{visible:!1,pages:[{title:"Cat",id:"cat-page",file:"/images/svg/fish.svg",caption:"fish-icon-link-to-catPge"},{title:"Dog",id:"dog-page",file:"/images/svg/bone.svg",caption:"bone-icon-link-to-dogPge"}]}}},getters:{getPages(e){return e.navigation.pages}},mutations:{addPage(e,t){e.navigation.pages.push(t)}},modules:{weatherLibrary:B}},I="/images/svg/logo.svg",H="/images/svg/basket.svg";const O={data(){return{clientID:{}.VITE_APP_NAME}},computed:{pagesFromStore(){return this.$store.getters.getPages}}},U={class:"home"},T=r("img",{src:I,alt:"weatherApp-logo-link-to-homePage"},null,-1),F={class:"home__pet-select"},q=r("div",{class:"home__pet-select-question"},[r("h2",null,"Are you a cat or a dog person?"),r("h4",null,"(Don't worry we won't judge!)"),r("img",{src:H,alt:"animal-basket"})],-1),K={class:"home__pet-select-buttons"},z={class:""},G=["src","alt"];function J(e,t,s,n,o,a){const i=g("RouterLink");return c(),u("section",U,[p(i,{to:{name:"home"},class:"home__logo"},{default:w(()=>[T]),_:1}),r("main",F,[q,r("div",K,[(c(!0),u($,null,y(a.pagesFromStore,l=>(c(),_(i,{key:l.id,to:{name:"page",params:{page_id:l.id}}},{default:w(()=>[r("nav",z,[r("img",{src:l.file,alt:l.caption},null,8,G),r("h5",null,h(l.title),1)])]),_:2},1032,["to"]))),128))])])])}var Q=d(O,[["render",J]]);const X={components:{Home:Q}};function Y(e,t,s,n,o,a){const i=g("Home");return c(),_(i)}var Z=d(X,[["render",Y]]),ee="/images/svg/search.svg",te="/images/gif/clouds.gif";const re={data(){return{isWeatherVisible:!1,place:localStorage.getItem("place")}},mounted(){this.$store.dispatch("fetchGeoCode")},created(){},computed:{getWeather(){return this.$store.getters.currentWeather},getLocation(){return this.$store.getters.currentLocationWeather},getError(){return this.$store.getters.errorMessage},visible(){return this.$store.getters.currentWeatherVisible}},methods:{weatherDisplay(){this.isWeatherVisibile=!0},currentWeatherDisplay(){this.isLocationWeather=!this.isLocationWeather}}},ae={class:"weather"},oe={class:"weather-header"},se=r("img",{src:I,alt:"weatherApp-logo-link-to-homePage"},null,-1),ne=r("h6",null,"Home",-1),ie={class:"weather-header__search-weather",role:"search"},ce={class:"weather-main"},le={class:"weather__main-weather"},he=D("Loading... "),ue=r("img",{src:te,alt:"moving clouds gif"},null,-1),ge=[he,ue],de=["src"],_e=r("hr",null,null,-1),me=["src"];function pe(e,t,s,n,o,a){const i=g("RouterLink");return c(),u("section",ae,[r("header",oe,[p(i,{to:{name:"home"},class:"weather-header__logo"},{default:w(()=>[se,ne]),_:1}),r("div",ie,[r("img",{onClick:t[0]||(t[0]=l=>{this.$store.dispatch("fetchWeatherData",this.place),a.weatherDisplay()}),src:ee,alt:"Search-icon"}),b(r("input",{type:"text",placeholder:"Enter your place...","onUpdate:modelValue":t[1]||(t[1]=l=>o.place=l),onKeyup:t[2]||(t[2]=S(l=>{this.$store.dispatch("fetchWeatherData",this.place),a.weatherDisplay()},["enter"]))},null,544),[[C,o.place]])])]),r("main",ce,[r("div",le,[r("div",null,[r("div",{class:f(["spinner",{spinnerVisible:!a.visible}])},ge,2),r("div",{class:f(["currentWeather",{currentWeatherData:a.visible}])},[r("h5",null,h(a.getLocation.place),1),r("h5",null,h(a.getLocation.temprature),1),a.getLocation.error===""?(c(),u("img",{key:0,src:a.getLocation.icon,alt:"Weather-icon"},null,8,de)):m("",!0),r("h6",null,h(a.getLocation.description),1),r("h6",null,h(a.getLocation.error),1)],2)]),_e,r("div",null,[r("div",{class:f(["weather__display",{weatherData:e.isWeatherVisibile}])},[r("h5",null,h(a.getWeather.place),1),r("h5",null,h(a.getWeather.temprature),1),a.getWeather.error===""?(c(),u("img",{key:0,src:a.getWeather.icon,alt:"Weather-icon"},null,8,me)):m("",!0),r("h6",null,h(a.getWeather.description),1)],2),r("h6",null,h(a.getWeather.error),1)])])])])}var k=d(re,[["render",pe]]),fe="/images/svg/cat.svg",L="/images/svg/cloud.svg";const we={components:{Weather:k},computed:{getCatIdeaStatus(){return this.$store.getters.catIdeaStatus},getCatIdeaImage(){return this.$store.getters.catIdeaImage}}},ve={class:"cat-page"},We={class:"cat-idea"},$e=r("img",{class:"cat-idea__cat-image",src:fe,alt:"cat-image"},null,-1),Ie=r("img",{src:L,alt:"Thinking-clould-image"},null,-1),ke=["src"];function Le(e,t,s,n,o,a){const i=g("Weather");return c(),u("section",ve,[p(i),r("div",We,[$e,r("figure",null,[Ie,r("figcaption",null,[r("img",{src:a.getCatIdeaImage,alt:""},null,8,ke),r("p",null,h(a.getCatIdeaStatus),1)])])])])}var ye=d(we,[["render",Le]]),be="/images/svg/dog.svg";const Ce={components:{Weather:k},data(){return{activities:""}},created(){this.fetchBored()},methods:{async fetchBored(){const t=await fetch("https://www.boredapi.com/api/activity?type=recreational");try{await this.handleBoredResponse(t)}catch(s){this.error=s.message}},async handleBoredResponse(e){if(e.status>=200&&e.status<300){console.log("ok");const t=await e.json();return this.activities=t.activity,console.log(this.activities),!0}else throw response.status===404?new Error("Url ikke funnet!"):response.status===401?new Error("ikke authorisert"):response.status>500?new Error("Servor error!"):new Error("Noe gikk galt!")}},computed:{getCatIdeaStatus(){return this.$store.getters.catIdeaStatus},getCatIdeaImage(){return this.$store.getters.catIdeaImage}}},Se={class:"dog-page"},De={class:"dog-idea"},Pe=r("img",{class:"dog-idea__dog-image",src:be,alt:"dog-image"},null,-1),Ee=r("img",{src:L,alt:"Thinking-clould-image"},null,-1),Ve=r("p",null,"Today's Activity?",-1);function xe(e,t,s,n,o,a){const i=g("Weather");return c(),u("section",Se,[p(i),r("div",De,[Pe,r("figure",null,[Ee,r("figcaption",null,[Ve,r("p",null,h(o.activities),1)])])])])}var je=d(Ce,[["render",xe]]);const Ae={components:{CatPage:ye,DogPage:je}};function Ne(e,t,s,n,o,a){const i=g("CatPage"),l=g("DogPage");return c(),u($,null,[e.$route.params.page_id==="cat-page"?(c(),_(i,{key:0})):m("",!0),e.$route.params.page_id==="dog-page"?(c(),_(l,{key:1})):m("",!0)],64)}var Re=d(Ae,[["render",Ne]]),Be=[{name:"page",path:"/:page_id",component:Re},{name:"home",path:"/",component:Z}];const Me=P(M),He=E({routes:Be,history:V()});x(R).use(Me).use(He).mount("#app");
